---
import { NewsArticleWide } from '@/components/cards';
import { CtaButton, SectionHeader } from '@/components/items';
import { getNewsSection } from '@/lib/sanity/queries/pages/home';

const {
	articles,
	section: { intro, subtitle, title },
} = await getNewsSection();
---

<section class="bg-brand relative z-0 text-white">
	<div class="container mx-auto px-5 pb-40 pt-28">
		<SectionHeader descriptionClass="text-white" subTitle={subtitle} title={title} isCentered>
			{intro}
		</SectionHeader>

		<div class="mt-32 flex flex-col justify-center gap-12">
			{articles.map(article => <NewsArticleWide {...article} />)}
		</div>

		<footer class="mt-20 text-center">
			<CtaButton href="#!" type="secondary">Alle Neuigkeiten ansehen</CtaButton>
		</footer>
	</div>
</section>

<style>
	section {
		&::before {
			content: '';
			position: absolute;
			inset: 0;
			background-image: url('../../../icons/design/bg-silhouette-wandern.svg'),
				url('../../../icons/design/bg-silhouette-fussball-seitfallzieher.svg');
			background-position:
				0% 10%,
				100% 110%;
			background-repeat: no-repeat;
			background-size: 250px, 300px;
			opacity: 0.15;
			z-index: -1;
		}
	}
</style>
